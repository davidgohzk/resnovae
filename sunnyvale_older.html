<!DOCTYPE html>
<html>
  <head>
    <title>Critical Crossroads</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="html5up-story/assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="html5up-story/assets/css/noscript.css"
    /></noscript>
  </head>
  <body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper" class="divided">
      <!-- One -->
      <section
        class="banner style1 orient-left content-align-left image-position-right fullscreen"
      >
        <div class="content">
          <h1>The Enchanted Treasure of Sunnyvale Forest</h1>
        </div>
        <div class="image">
          <img src="sunnyvale_older/landing.png" alt="" />
        </div>
      </section>

      <!-- Two -->
      <section
        class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in"
        id="first"
      >
        <div class="content">
          <p id="para2">
            Once upon a time in a quiet village, there lived a lively and
            curious girl named Daisy. Recently, Daisy had experienced the loss
            of her cherished companion, Elise, leaving her heart heavy with
            sorrow.
            <br /><br />
            “Elise was a radiant golden retriever adorned with silky fur. She
            was my constant source of joy and comfort. I longed dearly for the
            opportunity to relive those precious moments with my beloved Elise
            once more.”
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/1.png" alt="" />
        </div>
      </section>

      <!-- Three -->
      <section
        class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para3">
            One sunny day, Daisy decided to go for a stroll to the outskirts of
            her village. Taking a new route, she chanced upon a hidden path. It
            led to a scenery she had never seen before.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/2.png" alt="" />
        </div>
      </section>

      <!-- Four -->
      <section
        class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para4">
            "Oooh could this possibly be the enchanted Sunnyvale Forest that I
            had heard about in the stories my grandmother used to tell me? Wow,
            this forest is filled with vibrant flowers, talking animals, and
            enchanted trees that whisper stories of the ancient times.” said
            Daisy.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/4.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para5">
            Daisy was fascinated by the wonders of the magical forest and made
            friends with the charming creatures who lived there.
            <br /><br />
            “The animals there taught me to respect nature while the trees
            shared the importance of kindness and harmony. Every visit to the
            magical forest has filled me with joy and wisdom.” said Daisy.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/5.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para6">
            One day, Daisy overheard the animals whispering frantically.
            <br /><br />
            “Hey friends, what are you guys talking about?” Daisy asked.
            <br /><br />
            “We are talking about a magical crystal hidden deep within the
            forest. Legend had it that this crystal possessed the power to make
            one wish come true.” the animals said.
            <br /><br />
            Daisy's eyes sparkled with excitement, and she decided to embark on
            a quest. What was the quest?
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/6.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para7">
            Daisy exclaims excitedly, “I’m gonna go off on a quest to find the
            magical crystal to bring Elise back.”
            <br /><br />
            As Daisy journeyed through the forest, overcoming obstacles and
            solving riddles, she finally reached the heart of the enchanted
            forest.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/7.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para8">
            There, nestled among the roots of the oldest tree, she found the
            dazzling crystal.
            <br /><br />
            “Woahhh the crystal is shimmering with an otherworldly glow. It’s
            tempting me to make another wish.” said Daisy.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/8.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para9">
            However, just as Daisy was about to make her wish, a wise owl
            appeared.
            <br /><br />
            The owl said "Child, the magic of the crystal comes with great
            responsibility. Whoever seeks its power can have any one wish
            granted. But, the forest spirit will entrust them with the role of a
            forest guardian.
            <br /><br />
            Your form will change to become one with the forest and you will
            have to live in this forest as its guardian forever."
            <br /><br />
            Daisy froze when she heard this.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/9.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-right content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para10">
            "So does this mean that all of the mystical creatures I’ve seen
            until now, were all once human?" said Daisy.
            <br /><br />
            The power of the crystal had granted them their heart's deepest
            desire but had robbed them of the life they used to live.
            <br /><br />
            She recalled their forlorn eyes. How her newfound friends were
            always overjoyed to meet her.
            <br /><br />
            How some had even tried to follow her back to the human realm but
            were stopped by the barrier separating their two worlds.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/10.png" alt="" />
        </div>
      </section>

      <section
        class="spotlight style1 orient-left content-align-left image-position-center onscroll-image-fade-in"
      >
        <div class="content">
          <p id="para11">
            "It all makes sense but I have a dilemma now. If I make my wish, it
            would change my life but I would get to see my beloved friend,
            Elise, again." said Daisy.
            <br /><br />
            As she pondered before the elder tree, slowly her forest friends
            gathered around her. All eyes were on Daisy and the shimmering
            crystal as everyone patiently awaited her choice.
          </p>
        </div>
        <div class="image">
          <img src="sunnyvale_older/11.png" alt="" />
        </div>
      </section>

      <!-- Six -->
      <form id="submit-form" method="post">
        <section class="wrapper style1 align-center">
          <div class="inner">
            <h2>If you were Daisy, what would you do?</h2>
            <div class="items style1 medium onscroll-fade-in">
              <section>
                <p>Leave the Sunnyvale Forest</p>

                <input
                  type="radio"
                  id="choice-1"
                  name="choice-button"
                  value="choice-1"
                  checked
                />
                <label for="choice-1">Select Choice</label>
              </section>
              <section>
                <p>Wish on the Crystal & Save Elise</p>
                <input
                  type="radio"
                  id="choice-2"
                  name="choice-button"
                  value="choice-2"
                />
                <label for="choice-2">Select Choice</label>
              </section>
              <section>
                <p>Wish on the Forest Creatures</p>
                <input
                  type="radio"
                  id="choice-3"
                  name="choice-button"
                  value="choice-3"
                />
                <label for="choice-3">Select Choice</label>
              </section>
              <section>
                <p>I'll make my own choice</p>
                <input
                  type="radio"
                  id="choice-4"
                  name="choice-button"
                  value="choice-4"
                />
                <label for="choice-4">Select Choice</label>
              </section>
            </div>
          </div>
        </section>

        <!-- Seven -->
        <section class="wrapper style1 align-center">
          <div class="inner medium">
            <h2>Why did you make this choice?</h2>
            <div class="fields">
              <div class="field">
                <textarea
                  name="choice_input"
                  id="message"
                  rows="6"
                  placeholder="Share your thoughts here!"
                ></textarea>
                <button id="speechButton">Speech to text</button>
              </div>
            </div>
            <ul class="actions special">
              <li>
                <input
                  type="submit"
                  name="choice_submission"
                  id="submit-journal"
                  value="Complete the journal here"
                />
              </li>
            </ul>
          </div>
        </section>
      </form>
      <section class="wrapper style1 align-center">
        <div class="inner" id="conclusion"></div>
      </section>

      <!-- Footer -->
      <footer class="wrapper style1 align-center">
        <div class="inner">
          <p>&copy; Res Novae 2024</p>
        </div>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="html5up-story/assets/js/jquery.min.js"></script>
    <script src="html5up-story/assets/js/jquery.scrollex.min.js"></script>
    <script src="html5up-story/assets/js/jquery.scrolly.min.js"></script>
    <script src="html5up-story/assets/js/browser.min.js"></script>
    <script src="html5up-story/assets/js/breakpoints.min.js"></script>
    <script src="html5up-story/assets/js/util.js"></script>
    <script src="html5up-story/assets/js/main.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get the container

        // Get the button
        var submitForm = document.getElementById("submit-form");

        submitForm.addEventListener("submit", function (event) {
          event.preventDefault();
          var formData = new FormData(event.target);
          var choice = "";
          for (const [key, value] of formData.entries()) {
            if (key == "choice-button") {
              choice = value;
            }
          }

          if (
            choice === "choice-1" ||
            choice === "choice-2" ||
            choice === "choice-3"
          ) {
            var container = document.getElementById("conclusion");
            // Create h2 element
            var conclusionTitle = document.createElement("h1");
            conclusionTitle.textContent = "Conclusion";

            // Create img element
            var imgDiv = document.createElement("div");
            var img = document.createElement("img");
            if (choice === "choice-1") {
              img.src = "sunnyvale_older/a_1.png";
            } else if (choice === "choice-2") {
              img.src = "sunnyvale_older/b_1.png";
            } else if (choice === "choice-3") {
              img.src = "sunnyvale_older/c_1.png";
            }
            img.alt = "alt";
            imgDiv.classList.add("image");
            imgDiv.classList.add("fit");
            imgDiv.appendChild(img);

            // Create the body element
            var conclusionHeader = document.createElement("h2");
            var conclusionBody = document.createElement("p");
            if (choice === "choice-1") {
              conclusionHeader.textContent = "Leave Sunnyvale Forest";
              conclusionBody.innerHTML =
                "Daisy departs from the forest. She knows in her heart that she made the right decision. The cost of a wish was too great.<br/><br/>Though she truly loved Elise, she just knew that Elise would not want to see her trapped in this forest forever. Elise would want her to continue living a happy life and remember her fondly.<br/><br/>Daisy realises that she does not feel so lonely anymore. She has her forest friends and her family with her and come what may, they will face any hardships that lie ahead together.";
            } else if (choice === "choice-2") {
              conclusionHeader.textContent =
                "Wish on the Crystal and Save Elise";
              conclusionBody.innerHTML =
                "Daisy gently plucks the crystal out from the elder tree. She clutches it firmly in her hands and fervently wishes to see Elise again. The crystal vanishes and there right in front of her lies Elise! Looking just as healthy as ever. Elise gleefully greets her with a bark. She rushes forward and envelopes Elise in a warm hug.<br/><br/>Suddenly, a bright light envelopes Elise as she is slowly lifted up. She feels a warm sensation throughout her body as she is transformed into a pixie. The whole world around her looks so much bigger.<br/><br/>Elise, who is now almost the same size as her, barks in delight and is happy to see Daisy in this new form. She carries Daisy and together they set off on a new adventure to protect the forest and learn all its mysteries.";
            } else if (choice === "choice-3") {
              conclusionHeader.textContent = "Save all the Forest Creature";
              conclusionBody.innerHTML =
                "Daisy gently plucks the shimmering crystal from the elder tree - holding it tight as she wishes with all her heart to free the forest creatures trapped within.<br/><br/>With a magical hum, the crystal disappears, and a rumble echoes from the elder tree, bathing the clearing in light as the creatures transform back into humans.<br/><br/>Suddenly, a majestic voice booms from the tree. “Little one! Among all the creatures that have sought my power, you have proved yourself to be the most worthy! Since you have made a wish for the good of others, I will grant you the strength needed to break the curse on this forest.”<br/><br/>Daisy transforms into a fairy with wings and a flower crown. With a flutter, she takes flight, knowing she has always been connected to this new form.<br/><br/>She embarks on an adventure to protect the forest and learn the crystal's origin and the forest's curse.";
            }

            var postStoryQuestionsUL = document.createElement("ul");
            var questions = [
              "If you were given the magical power to enter the story, is there something that you would ask one of the characters before making a decision?",
              "Why is it important to consider what other people might feel/react to our actions or decisions?Is it okay to only think about ourselves?",
              "Have you ever been in a situation when someone neglected your feelings? How did you feel and how did you react in the situation?",
            ];

            var hr = document.createElement("hr");

            for (var i = 0; i < questions.length; i++) {
              var li = document.createElement("li");
              li.textContent = questions[i];
              postStoryQuestionsUL.appendChild(li);
            }

            // Append the elements to container
            container.appendChild(conclusionTitle);
            container.appendChild(imgDiv);
            container.appendChild(conclusionHeader);
            container.appendChild(conclusionBody);
            container.appendChild(hr);
            container.appendChild(postStoryQuestionsUL);
          }
          document.getElementById("submit-journal").remove();
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        $("#submit-form").on("submit", function (e) {
          e.preventDefault(); // Prevent the default form submission

          var dataString = $(this).serialize();

          $.ajax({
            type: "POST",
            url: "https://formspree.io/f/xkndpjgo", // Replace with your FormSubmit endpoint
            data: dataString,
            cache: false,
          });
        });
      });
    </script>
    <script>
      // Function to start speech synthesis
      function startSpeech(text) {
        const speech = new SpeechSynthesisUtterance(text);
        speechSynthesis.speak(speech);
      }

      // Function to stop speech synthesis
      function stopSpeech() {
        speechSynthesis.cancel();
      }

      // Intersection Observer configuration
      const options = {
        root: null,
        rootMargin: "0px",
        threshold: 1.0, // Change this threshold value according to your requirement
      };

      // Callback function to handle intersection changes
      function handleIntersection(entries, observer) {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Start speech when the div enters the viewport
            startSpeech(entry.target.innerText);
          } else {
            // Stop speech when the div leaves the viewport
            stopSpeech();
          }
        });
      }

      // Create Intersection Observer instance
      const observer = new IntersectionObserver(handleIntersection, options);

      // Target the div
      const targetDivs = document.querySelectorAll(
        "#para1, #para2, #para3, #para4, #para5, #para6, #para7, #para8, #para9, #para10, #para11"
      );

      // Start observing the div
      targetDivs.forEach((div) => {
        observer.observe(div);
      });
    </script>
    <script>
      const speechButton = document.getElementById("speechButton");
      const speechInput = document.getElementById("message");
      let recognition = null;
      let isListening = false;

      function startSpeechRecognition() {
        if (!("webkitSpeechRecognition" in window)) {
          speechInput.value =
            "Your browser does not support speech recognition.";
          return;
        }

        recognition = new webkitSpeechRecognition();
        recognition.continuous = true;
        recognition.interimResults = false;
        recognition.lang = "en-US";

        recognition.onstart = function () {
          speechInput.value = "Listening...";
          isListening = true;
        };

        recognition.onresult = function (event) {
          speechInput.value = event.results[0][0].transcript;
        };

        recognition.onerror = function (event) {
          speechInput.value = "Error occurred in recognition: " + event.error;
        };

        recognition.start();
      }

      speechButton.addEventListener("click", (event) => {
        event.preventDefault();
        if (isListening) {
          recognition.stop();
          speechButton.textContent = "Start Speech Recognition";
          isListening = false;
        } else {
          startSpeechRecognition();
          speechButton.textContent = "Stop Speech Recognition";
        }
      });
    </script>
  </body>
</html>
